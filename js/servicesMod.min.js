function escapeModal(o){return 27==o.keyCode&&hideModal(),!0}function destroyModal(o){"modImg01"!==o.target.id&&"modCaption"!==o.target.id&&("modal-controls"===o.target.id||o.target.classList.contains("glyphicon")||hideModal())}function hideModal(){modal.hide(),$(window).off("keydown",escapeModal),$("body").off("click",destroyModal),modalContent.attr("href",""),modalImg.attr("src",""),captionText.html("")}function handleControlClick(o){var t,a,n=originalImages.length-1
if(o.target.classList.contains("glyphicon-arrow-left"))t=modalImgIndex-1>=0?modalImgIndex-1:n
else{if(!o.target.classList.contains("glyphicon-arrow-right"))return
t=modalImgIndex+1<=n?modalImgIndex+1:0}return a=originalImages.eq(t),modalImg.attr("src",a.attr("src")),captionText.html(a.attr("alt")),modalImgIndex=t,!0}function getIndexOfClickedImg(o){var t
return originalImages.each(function(){if($(this).attr("src")===o)return t=$(this).index(),!1}),t}var originalImages,modal,modalContent,modalImg,captionText,modalImgIndex
$(window).on("load",function(){modal=$("#servImgModal"),modalContent=modal.find(".modal-content"),modalImg=$("#modImg01"),captionText=$("#modCaption"),originalImages=$(".service-img")
var o=modal.find(".close")
originalImages.click(function(){modal.show(),modalImgIndex=getIndexOfClickedImg($(this).attr("src")),$(window).on("keydown",escapeModal),modalContent.attr("href",$(this).attr("src")),modalImg.attr("src",$(this).attr("src")),captionText.html($(this).attr("alt")),setTimeout(function(){$("body").on("click",destroyModal)},0)}),o.click(function(){hideModal()}),modal.find(".glyphicon").click(handleControlClick)})
